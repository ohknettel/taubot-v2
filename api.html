
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="API" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.taubot.qzz.io/api.html" />
<meta property="og:site_name" content="Taubot V2.1 Documentation" />
<meta property="og:description" content="Taubot V2.1 exposes an HTTPS API available at https://taubot.qzz.io/api, refered to in this documentation from here on out as TBAPI. The main usage of TBAPI is to enable applications and businesses..." />
<meta property="og:image" content="https://docs.taubot.qzz.io/_static/logo.png" />
<meta property="og:image:alt" content="Taubot V2.1 Documentation" />
<meta name="description" content="Taubot V2.1 exposes an HTTPS API available at https://taubot.qzz.io/api, refered to in this documentation from here on out as TBAPI. The main usage of TBAPI is to enable applications and businesses..." />
<meta property="og:ignore_canonical" content="true" />
<meta name="theme-color" content="#e8cc4c" />

    <title>API &#8212; Taubot V2.1 Documentation  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api';</script>
    <link rel="icon" href="_static/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Backend" href="backend.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt=""/>
    <img src="_static/logo.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">Taubot V2.1 Documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="backend.html">
    Backend
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    API
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="usage.html">
    Usage
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="backend.html">
    Backend
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    API
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">API</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="api">
<h1>API<a class="headerlink" href="#api" title="Link to this heading">#</a></h1>
<p>Taubot V2.1 exposes an HTTPS API available at <a class="reference external" href="https://taubot.qzz.io/api">https://taubot.qzz.io/api</a>, refered to in this documentation from here on out as TBAPI. The main usage of TBAPI is to enable applications and businesses to automate different aspects of Taubot such as transferring funds from one account to another.</p>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">#</a></h2>
<p>Please fill out the <a class="reference external" href="https://forms.gle/hs1B1GZ9rFcCjSUi9">API application form</a> to request an application be made and a key to be provided.</p>
<p>TBAPI relies on two kinds of API keys: <strong>Master</strong> and <strong>Grant</strong>.</p>
<div class="pst-scrollable-table-container"><table class="table" id="keys">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Master Key</p></th>
<th class="head"><p>Grant Key</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Master keys are issued to applications and are notable for their ability to create <strong>Grant</strong> keys.</p></td>
<td><p>Grant keys are issued to individuals by the Department of Technology in order to enable them to control their personal accounts. Primarily, they are issued by users to applications to grant the application a subset of permissions on a certain account.</p></td>
</tr>
</tbody>
</table>
</div>
<p>The key being used to make a request should be set as the <code class="code docutils literal notranslate"><span class="pre">Authorization</span></code> HTTP header, for example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Authorization: Bearer YOUR_KEY_HERE
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Master keys expire in 60 days, while Grant keys expire in 90 days.</strong></p>
</div>
</section>
<section id="app-authorization-flow-overview">
<h2>App authorization flow overview<a class="headerlink" href="#app-authorization-flow-overview" title="Link to this heading">#</a></h2>
<p>This section pertains to the creation of <strong>Grant</strong> keys by users for applications.</p>
<p>This process ensures that users maintain full control over their spending limits while providing the application with a key to control their account.</p>
<dl class="simple">
<dt>The gist of the process is as follows:</dt><dd><ol class="arabic simple">
<li><p>Application posts to the <a class="reference internal" href="#post--api-references-register" title="POST /api/references/register"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/references/register</span></code></a> endpoint, using a <strong>Master</strong> key with a query parameter of the permissions they wish to get, and receives a UUID.</p></li>
<li><p>Application gives the user a manufactured grant link using the UUID from the response.</p></li>
<li><p>User visits the grant link and authenticates with Discord.</p></li>
<li><p>User sets their preferred spending limit and authorizes the application.</p></li>
<li><p>User returns to application and confirms that they’ve completed the authorization process.</p></li>
<li><p>Application retrieves their <strong>Grant</strong> key from <a class="reference internal" href="#get--api-references-ref_id" title="GET /api/references/{ref_id}"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/references/{ref_id}</span></code></a>, where <code class="code docutils literal notranslate"><span class="pre">ref_id</span></code> is the UUID from the application’s response in step 1.</p></li>
</ol>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>The application has up to an hour from the completion of the first step to complete this process.</strong></p>
</div>
<p>More detailed explanations for the major parts of the process are provided below.</p>
<section id="permissions">
<h3>Permissions<a class="headerlink" href="#permissions" title="Link to this heading">#</a></h3>
<p>TBAPI uses bitmasks to bundle multiple permissions into a single integer, similar to Discord’s authentication system for adding bots to servers.</p>
<p>TBAPI currently allows applications to request the following permissions. These permissions are the same as <a class="reference internal" href="backend.html#permissions-bk"><span class="std std-ref">the permissions defined in the backend</span></a>. We may update this list in the future to allow applications to request more of Taubot’s permissions in accordance with demand, technical capabilities and security.</p>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 10.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">VIEW_BALANCE</span></code></p></td>
<td><p><strong>1</strong></p></td>
<td><p>Allows the application to view an account’s balance.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">TRANSFER_FUNDS</span></code></p></td>
<td><p><strong>3</strong></p></td>
<td><p>Allows the application to transfer funds from an account.</p></td>
</tr>
</tbody>
</table>
</div>
<p>For example, if an application wishes to request both <code class="code docutils literal notranslate"><span class="pre">VIEW_BALANCE</span></code> and <code class="code docutils literal notranslate"><span class="pre">TRANSFER_FUNDS</span></code>, the resulting bitmask will be <strong>10</strong>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">10</span>
</pre></div>
</div>
</section>
<section id="receiving-a-reference-uuid">
<h3>Receiving a reference UUID<a class="headerlink" href="#receiving-a-reference-uuid" title="Link to this heading">#</a></h3>
<p>As mentioned in the gist, the application must send a request to <a class="reference internal" href="#post--api-references-register" title="POST /api/references/register"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/references/register</span></code></a> endpoint through a <strong>Master</strong> key with a query parameter of the permissions they wish to get.</p>
<section id="endpoints">
<h4>Endpoints<a class="headerlink" href="#endpoints" title="Link to this heading">#</a></h4>
<dl class="http post">
<dt class="sig sig-object http" id="post--api-references-register">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/references/register</span></span><a class="headerlink" href="#post--api-references-register" title="Link to this definition">#</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This endpoint is limited to <a class="reference internal" href="#keys"><span class="std std-ref">Master keys</span></a> only.</p>
</div>
<p>Registers a create reference from a <strong>Master</strong> key.</p>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>permissions</strong> – The required permissions integer bitmask.</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>uuid</strong> – A unique reference UUID.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns a reference UUID.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Permissions bitmask is empty or malformed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – Request was made with a <strong>Grant</strong> key instead of the original <strong>Master</strong> key.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;331fa966-33e4-4513-82ee-890f97e3f6ec&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="constructing-a-grant-url">
<h3>Constructing a grant URL<a class="headerlink" href="#constructing-a-grant-url" title="Link to this heading">#</a></h3>
<p>After receiving the reference UUID from the TBAPI, the application must construct a grant URL in the format <code class="code docutils literal notranslate"><span class="pre">/api/oauth/grant?ref_id={ref_id}&amp;app_id={app_id}</span></code>, where <code class="code docutils literal notranslate"><span class="pre">ref_id</span></code> is the reference UUID it received and <code class="code docutils literal notranslate"><span class="pre">app_id</span></code> is the application’s own ID, and give it to the user.</p>
<p>Using the UUID from the above example response, this may look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>https://taubot.qzz.io/api/oauth/grant?ref_id=331fa966-33e4-4513-82ee-890f97e3f6ec&amp;app_id=02d60c91-3362-4dc5-8c55-0a69e8f35ed6
</pre></div>
</div>
</section>
<section id="authorization-on-the-user-s-end">
<h3>Authorization on the user’s end<a class="headerlink" href="#authorization-on-the-user-s-end" title="Link to this heading">#</a></h3>
<p>Once the user visits this grant URL, they will be redirected to Discord’s authentication page, and then to TBAPI’s grant page, where they are shown the permissions the application is requesting and are allowed to set a spending limit or disable the spending limit.</p>
<figure class="align-default" id="id7">
<img alt="_images/discord_oauth.png" src="_images/discord_oauth.png" />
<figcaption>
<p><span class="caption-text">Discord authenatication page</span><a class="headerlink" href="#id7" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id8">
<img alt="_images/grant_unchecked.png" src="_images/grant_unchecked.png" />
<figcaption>
<p><span class="caption-text">TBAPI grant page</span><a class="headerlink" href="#id8" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id9">
<img alt="_images/grant_checked.png" src="_images/grant_checked.png" />
<figcaption>
<p><span class="caption-text">Spending limit warning when disabled</span><a class="headerlink" href="#id9" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id10">
<img alt="_images/authorized.png" src="_images/authorized.png" />
<figcaption>
<p><span class="caption-text">Authorization confirmation</span><a class="headerlink" href="#id10" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="retrieving-the-grant-key">
<h3>Retrieving the grant key<a class="headerlink" href="#retrieving-the-grant-key" title="Link to this heading">#</a></h3>
<p>After the user has informed the application that they’ve authorized the application, the application must retrieve their <strong>Grant</strong> key by sending a request to <a class="reference internal" href="#get--api-references-ref_id" title="GET /api/references/{ref_id}"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/api/references/{ref_id}</span></code></a> with <code class="code docutils literal notranslate"><span class="pre">ref_id</span></code> replaced with the reference UUID the application received earlier.</p>
<section id="id1">
<h4>Endpoints<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-references-ref_id">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/references/{ref_id}</span></span><a class="headerlink" href="#get--api-references-ref_id" title="Link to this definition">#</a></dt>
<dd><p>Retrieves a reference’s <strong>Grant</strong> key. This request must be sent by the original <strong>Master</strong> key in case of registering the reference through <a class="reference internal" href="#post--api-references-register" title="POST /api/references/register"><code class="xref http http-post docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/api/references/register</span></code></a>, or the pre-existing grant key in case of registering the reference through <a class="reference internal" href="#patch--api-references-register" title="PATCH /api/references/register"><code class="xref http http-patch docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/api/references/register</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Path ref_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>The reference UUID supplied by TBAPI.</p>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns a <strong>Grant</strong> key.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – The reference UUID is invalid or malformed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – The user has not yet authorized the application, or the request is made using the wrong type of key.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – The reference was not found.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="updating-the-grant-key">
<h3>Updating the grant key<a class="headerlink" href="#updating-the-grant-key" title="Link to this heading">#</a></h3>
<p>In case your application’s grant key has reached the spending limit, or you need access to more permissions than initally authorized, you can send a <a class="reference internal" href="#patch--api-references-register" title="PATCH /api/references/register"><code class="xref http http-patch docutils literal notranslate"><span class="pre">PATCH</span> <span class="pre">/api/references/register</span></code></a> request instead of creating a new grant key. At the end of the update process (which is the exact same as the authorization process), you will receive a new grant key, <strong>and the old grant key will be invalidated</strong>.</p>
<section id="id2">
<h4>Endpoints<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<dl class="http patch">
<dt class="sig sig-object http" id="patch--api-references-register">
<span class="sig-name descname"><span class="pre">PATCH</span> </span><span class="sig-name descname"><span class="pre">/api/references/register</span></span><a class="headerlink" href="#patch--api-references-register" title="Link to this definition">#</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This endpoint is limited to <a class="reference internal" href="#keys"><span class="std std-ref">Grant keys</span></a> only.</p>
</div>
<p>Registers a update reference from a <strong>Grant</strong> key.</p>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>permissions</strong> – <strong>(Optional)</strong> The required permissions integer bitmask.</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>uuid</strong> – A unique reference UUID.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns a reference UUID.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Permissions bitmask is malformed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – Request was made with a <strong>Master</strong> key instead of the pre-existing <strong>Grant</strong> key.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5d92d48b-372f-4dd2-ac7d-01e87da5e4e6c&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
</section>
<section id="api-reference">
<h2>API reference<a class="headerlink" href="#api-reference" title="Link to this heading">#</a></h2>
<section id="response-types">
<h3>Response Types<a class="headerlink" href="#response-types" title="Link to this heading">#</a></h3>
<section id="application">
<span id="id3"></span><h4>Application<a class="headerlink" href="#application" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 22.2%" />
<col style="width: 55.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>application_id</p></th>
<td><p>String</p></td>
<td><p>The application’s UUID, encoded as a string</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>application_name</p></th>
<td><p>String</p></td>
<td><p>The name of the application</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>economy_name</p></th>
<td><p>String</p></td>
<td><p>The application’s economy currency name</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>economy_id</p></th>
<td><p>String</p></td>
<td><p>The application economy’s UUID, encoded as a string</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>owner_id</p></th>
<td><p>String</p></td>
<td><p>The application owner’s ID, encoded as a string</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="account">
<span id="id4"></span><h4>Account<a class="headerlink" href="#account" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 22.2%" />
<col style="width: 55.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>account_id</p></th>
<td><p>String</p></td>
<td><p>The account’s UUID, encoded as a string</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>owner_id</p></th>
<td><p>String</p></td>
<td><p>The account owner’s ID, encoded as a string</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>account_name</p></th>
<td><p>String</p></td>
<td><p>The name of the account</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>account_type</p></th>
<td><p>String</p></td>
<td><p>The type of account</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>balance</p></th>
<td><p>Integer</p></td>
<td><p>The balance of the account in cents (for example: 100 would be 1 of a currency and 101 would be 1.01 of a currency)</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="transaction">
<span id="id5"></span><h4>Transaction<a class="headerlink" href="#transaction" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<colgroup>
<col style="width: 22.2%" />
<col style="width: 22.2%" />
<col style="width: 55.6%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Key</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>actor_id</p></th>
<td><p>String</p></td>
<td><p>The ID of the user or API key that performed this transaction, encoded as a string</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>timestamp</p></th>
<td><p>Double</p></td>
<td><p>The Unix timestamp of when the transaction took place, returned as a float</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>from_account</p></th>
<td><p>String</p></td>
<td><p>The account UUID of the account the money was transferred from, encoded as a string</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p>to_account</p></th>
<td><p>String</p></td>
<td><p>The account UUID of the account the money was sent to, encoded as a string</p></td>
</tr>
<tr class="row-even"><th class="stub"><p>amount</p></th>
<td><p>Integer</p></td>
<td><p>The amount in cents that was transferred</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="id6">
<h3>Endpoints<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-applications-app_id">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/applications/{app_id}</span></span><a class="headerlink" href="#get--api-applications-app_id" title="Link to this definition">#</a></dt>
<dd><p>Gets an application by its UUID.</p>
<dl class="field-list simple">
<dt class="field-odd">Path app_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>The application’s UUID or <code class="code docutils literal notranslate"><span class="pre">me</span></code> for the requesting key’s application.</p>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns an <a class="reference internal" href="#application"><span class="std std-ref">Application</span></a> object.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Application UUID is invalid or malformed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – Application not found.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;application_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f47ac10b-58cc-4372-a567-0e02b2c3d479&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;application_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;economy_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;economy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;af93101b-8301-4f97-96b5-dcfa9a28f90a&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;809875420350119958&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-applications-users-user_id">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/applications/users/{user_id}</span></span><a class="headerlink" href="#get--api-applications-users-user_id" title="Link to this definition">#</a></dt>
<dd><p>Gets a user’s applications.</p>
<dl class="field-list simple">
<dt class="field-odd">Path user_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>The user’s Discord ID.</p>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns a list of <a class="reference internal" href="#application"><span class="std std-ref">Application</span></a> objects.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – User ID is a non-integer value.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – The requesting key does not have the permission to view user applications (<code class="code docutils literal notranslate"><span class="pre">MANAGE_ECONOMIES</span></code>).</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">     </span><span class="nt">&quot;application_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f47ac10b-58cc-4372-a567-0e02b2c3d479&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;application_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;economy_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;economy_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;af93101b-8301-4f97-96b5-dcfa9a28f90a&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;809875420350119958&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-accounts">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/accounts</span></span><a class="headerlink" href="#get--api-accounts" title="Link to this definition">#</a></dt>
<dd><p>Gets an account matching a specific name or owned by a specific user. <strong>Only one query parameter must be provided.</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – The user’s Discord ID.</p></li>
<li><p><strong>name</strong> – The account’s name.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns an <a class="reference internal" href="#account"><span class="std std-ref">Account</span></a> object.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Both or neither of <code class="code docutils literal notranslate"><span class="pre">user_id</span></code> and :<cite>name</cite> were entered, or the user ID is a non-integer value.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – Account not found.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Request (HTTP)</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/accounts?user_id=809875420350119958</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">taubot.qzz.io</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Bearer ...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The requesting key must have the <code class="code docutils literal notranslate"><span class="pre">VIEW_BALANCE</span></code> permission to get the account’s balance, else the balance returned will be <code class="code docutils literal notranslate"><span class="pre">null</span></code>.</p>
</div>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;account_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;021b1643-fcec-4cbb-bc00-ea136155e2e8&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;809875420350119958&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;account_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;@!809875420350119958&gt;&#39;s account&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;account_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;USER&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;balance&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-accounts-acc_id">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/accounts/{acc_id}</span></span><a class="headerlink" href="#get--api-accounts-acc_id" title="Link to this definition">#</a></dt>
<dd><p>Gets an account by its UUID.</p>
<dl class="field-list simple">
<dt class="field-odd">Path acc_id<span class="colon">:</span></dt>
<dd class="field-odd"><p>The account’s UUID.</p>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns an <a class="reference internal" href="#account"><span class="std std-ref">Account</span></a> object.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Account UUID is invalid or malformed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – Account not found.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The requesting key must have the <code class="code docutils literal notranslate"><span class="pre">VIEW_BALANCE</span></code> permission to get the account’s balance, else the balance returned will be <code class="code docutils literal notranslate"><span class="pre">null</span></code>.</p>
</div>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;account_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;021b1643-fcec-4cbb-bc00-ea136155e2e8&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;owner_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;809875420350119958&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;account_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;@!809875420350119958&gt;&#39;s account&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;account_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;USER&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;balance&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--api-transactions-create">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/transactions/create</span></span><a class="headerlink" href="#post--api-transactions-create" title="Link to this definition">#</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This endpoint is limited to <a class="reference internal" href="#keys"><span class="std std-ref">Grant keys</span></a> only.</p>
</div>
<p>Creates a new transaction; i.e. transfers fund from the requesting key’s account to another account.</p>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>to_account_id</strong> – The UUID of the destination account.</p></li>
<li><p><strong>amount</strong> – The amount to transfer in cents.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Transaction is successful.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – To account UUID is invalid or malformed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – <strong>Error code 1000</strong> - Cannot transfer from and to the same account.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – <strong>Error code 1001</strong> - Insufficient funds.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – <strong>Error code 1002</strong> - Spending limit reached.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – To account not found.</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Request Body</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;to_account_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;021b1643-fcec-4cbb-bc00-ea136155e2e8&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example Response (403 Forbidden)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;error_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cannot transfer from and to the same account&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully performed transaction&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--api-transactions">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/transactions</span></span><a class="headerlink" href="#get--api-transactions" title="Link to this definition">#</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This endpoint is limited to <a class="reference internal" href="#keys"><span class="std std-ref">Grant keys</span></a> only.</p>
</div>
<p>Get the transactions of the requesting key’s account.</p>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> – <strong>(Optional)</strong> The amount of transactions to return. Must be greater than 0 and less than 100.</p></li>
<li><p><strong>sort</strong> – <strong>(Optional)</strong> Whether to sort the transactions in ascending or descending order of date. <code class="code docutils literal notranslate"><span class="pre">0</span></code> - newest first, <code class="code docutils literal notranslate"><span class="pre">1</span></code> - oldest first.</p></li>
<li><p><strong>before</strong> – <strong>(Optional)</strong> Filter transactions made before a float timestamp.</p></li>
<li><p><strong>after</strong> – <strong>(Optional)</strong> Filter transactions made after a float timestamp.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Returns a list of <a class="reference internal" href="#transaction"><span class="std std-ref">Transaction</span></a> objects.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – <strong>Error code 2000</strong> - Invalid sort mode.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – <strong>Error code 2001</strong> - Limit is less than or equal to 0.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – <strong>Error code 2002</strong> - Limit is greater than 100.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.4">403 Forbidden</a></span> – The requesting key does not have the permission to view transactions (<code class="code docutils literal notranslate"><span class="pre">VIEW_BALANCE</span></code>).</p></li>
</ul>
</dd>
</dl>
<p><strong>Example Request (HTTP)</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/transactions?limit=10&amp;sort=1</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">taubot.qzz.io</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Bearer ...</span>
</pre></div>
</div>
<p><strong>Example Response (403 Forbidden)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;error_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sort mode must be either: 0 - newest first, 1 - oldest first&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example Response (200 OK)</strong></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;actor_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1770647320.966851</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;from_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;021b1643-fcec-4cbb-bc00-ea136155e2e8&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;to_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d107dd80-54de-4537-bd0c-fb63b9b0aff6&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;actor_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1770632032.316085</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;from_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;021b1643-fcec-4cbb-bc00-ea136155e2e8&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;to_account&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d107dd80-54de-4537-bd0c-fb63b9b0aff6&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="backend.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Backend</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#authentication">Authentication</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#app-authorization-flow-overview">App authorization flow overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#permissions">Permissions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#receiving-a-reference-uuid">Receiving a reference UUID</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#endpoints">Endpoints</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#constructing-a-grant-url">Constructing a grant URL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authorization-on-the-user-s-end">Authorization on the user’s end</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#retrieving-the-grant-key">Retrieving the grant key</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Endpoints</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#updating-the-grant-key">Updating the grant key</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Endpoints</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api-reference">API reference</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#response-types">Response Types</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#application">Application</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#account">Account</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#transaction">Transaction</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Endpoints</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2026, Some Stoner.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>